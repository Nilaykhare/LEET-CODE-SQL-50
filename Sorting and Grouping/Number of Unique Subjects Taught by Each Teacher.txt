select teacher_id, SUM(case when subject_id is not null then 1 else 0 end) as  cnt  from (select distinct teacher_id , subject_id from  Teacher) as t group by teacher_id